(this["webpackJsonpmerehead-test"]=this["webpackJsonpmerehead-test"]||[]).push([[0],{55:function(e,t,r){},56:function(e,t,r){},76:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(22),s=r.n(a),i=r(16),u=r(7),o=r(18),j=r(10),b=r(6),l="GET_USERS",d="GET_USERS_ERROR",p="CREATE_USER",O="UPDATE_USER",h="DELETE_USER",x="USER_ERRORS",m="GET_USERS_SAGA",f="CREATE_USER_SAGA",v="UPDATE_USER_SAGA",g="DELETE_USER_SAGA",y="HIDE_NOTIFICATION";function w(e){var t=e.user;return{type:f,user:t}}function E(e){var t=e.id,r=e.user;return{type:v,id:t,user:r}}var N=r(2),S=function(e){var t=e.name,r=e.surname,n=(e.avatar,e.desc),c=e.id,a=Object(j.b)();function s(){window.confirm("Are you sure")&&a(function(e){return{type:g,id:e}}(c))}return Object(N.jsx)("div",{className:"card",children:Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsxs)("h4",{className:"card-title",children:[t," ",r]}),Object(N.jsx)("p",{className:"card-text",children:n}),Object(N.jsx)(i.b,{to:"user/edit/".concat(c),className:"btn-secondary btn-small paper-btn",style:{marginRight:"20px"},children:"Edit user"}),Object(N.jsx)("button",{className:"btn-danger btn-small",onClick:function(){return s()},children:"Delete user"})]})})},k=function(e){var t=e.users;return Object(N.jsx)("div",{className:"row",children:t.map((function(e){return Object(N.jsx)("div",{className:"sm-6 md-4 col",children:Object(N.jsx)(S,Object(b.a)({},e))},e.id)}))})},U=function(e){for(var t=e.usersPerPage,r=e.totalUsers,n=e.paginate,c=[],a=1;a<=Math.ceil(r/t);a++)c.push(a);return Object(N.jsx)("ul",{className:"pagination",children:c.map((function(e){return Object(N.jsx)("li",{className:"pagination__item",children:Object(N.jsxs)("button",{onClick:function(){return n(e)},children:["Page ",e]})},e)}))})},R=function(){var e=Object(j.c)((function(e){return e.usersList})),t=Object(j.c)((function(e){return e.loading})),r=Object(n.useState)(1),c=Object(o.a)(r,2),a=c[0],s=c[1],i=6*a,u=i-6,b=e.slice(u,i);return Object(N.jsxs)(N.Fragment,{children:[t&&Object(N.jsx)("h1",{children:"Loading..."}),Object(N.jsx)(k,{users:b}),Object(N.jsx)(U,{usersPerPage:6,totalUsers:e.length,paginate:function(e){return s(e)}})]})},T=r(27),_=r(44),A=["history"],L=Object(u.g)((function(e){var t=e.history,r=Object(_.a)(e,A),c=r.initialState,a=r.actionType,s=r.id,i=Object(n.useState)({}),u=Object(o.a)(i,2),l=u[0],d=u[1];Object(n.useEffect)((function(){d(c)}),[c]);var p=Object(j.b)();function O(e){var t=e.target,r=t.value,n=t.name;d(Object(b.a)(Object(b.a)({},l),{},Object(T.a)({},n,r)))}return Object(N.jsx)(N.Fragment,{children:l&&Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(a({user:l,id:s})),t.push("/")},children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"input-block",placeholder:"Enter User Name",id:"name",name:"name",value:l.name,onChange:O,required:!0})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"surname",children:"Surname"}),Object(N.jsx)("input",{type:"text",className:"input-block",placeholder:"Enter User Surname",id:"surname",name:"surname",value:l.surname,onChange:O,required:!0})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"desc",children:"User Description"}),Object(N.jsx)("textarea",{className:"no-resize input-block",placeholder:"Enter User Description",id:"desc",name:"desc",value:l.desc,onChange:O,required:!0})]}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("button",{className:"btn-large",children:"Submit"})})]})})})),D=function(){return Object(N.jsx)("div",{children:Object(N.jsx)(L,{initialState:{name:"",surname:"",desc:""},actionType:w})})},C=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Page not found"}),Object(N.jsx)(i.b,{className:"btn-large",to:"/",children:"Back to home page"})]})},F=function(){var e=Object(u.f)().id;e=Number(e);var t=Object(n.useState)({}),r=Object(o.a)(t,2),c=r[0],a=r[1],s=Object(j.c)((function(e){return e.usersList}));return Object(n.useEffect)((function(){var t=s.find((function(t){return t.id===e}));a(t)}),[s,e]),Object(N.jsx)(N.Fragment,{children:(null===c||void 0===c?void 0:c.name)?Object(N.jsx)(L,{initialState:c,actionType:E,id:e}):Object(N.jsx)(C,{})})},P=function(e){var t=e.alert,r=t.type,c=t.text,a=Object(j.b)();return Object(n.useEffect)((function(){setTimeout((function(){a({type:y})}),5e3)}),[a]),Object(N.jsx)("div",{className:"user-alert",children:Object(N.jsx)("div",{className:"alert alert-".concat(r),children:c})})},G=function(){return Object(N.jsxs)("nav",{className:"border fixed split-nav",children:[Object(N.jsx)("div",{className:"nav-brand",children:Object(N.jsx)("h3",{children:Object(N.jsx)(i.b,{to:"/",children:"Vitalii Test"})})}),Object(N.jsx)(i.b,{to:"/user/create",className:"paper-btn",children:"Create user"})]})};r(55),r(56);var I=function(){var e=Object(j.b)();Object(n.useEffect)((function(){e({type:m})}),[e]);var t=Object(j.c)((function(e){return e.alert}));return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(i.a,{children:Object(N.jsxs)(N.Fragment,{children:[t.show&&Object(N.jsx)(P,{alert:t}),Object(N.jsx)(G,{}),Object(N.jsx)("div",{className:"container container--custom paper",children:Object(N.jsxs)(u.c,{children:[Object(N.jsx)(u.a,{exact:!0,path:"/",component:R}),Object(N.jsx)(u.a,{exact:!0,path:"/user/create",component:D}),Object(N.jsx)(u.a,{exact:!0,path:"/user/edit/:id",component:F}),Object(N.jsx)(u.a,{component:C})]})})]})})})},q=r(19),M=r(40),B=r(43),J=r(42),z={usersList:[],loading:!0,alert:{show:!1}};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case l:return Object(b.a)(Object(b.a)({},e),{},{usersList:n,loading:!1});case p:return Object(b.a)(Object(b.a)({},e),{},{usersList:[].concat(Object(J.a)(e.usersList),[n]),loading:!1,alert:{show:!0,type:"success",text:"User was created"}});case h:return Object(b.a)(Object(b.a)({},e),{},{usersList:e.usersList.filter((function(e){return e.id!==n})),loading:!1,alert:{show:!0,type:"secondary",text:"User was deleted"}});case O:return Object(b.a)(Object(b.a)({},e),{},{usersList:e.usersList.map((function(e){return e.id===n.id?Object(b.a)({},n):e})),loading:!1,alert:{show:!0,type:"success",text:"User was updated"}});case d:return Object(b.a)(Object(b.a)({},e),{},{usersList:[],loading:!1,alert:{show:!0,type:"danger",text:"There were problems getting users"}});case x:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,alert:{show:!0,type:"danger",text:"There were problems with this action"}});case y:return Object(b.a)(Object(b.a)({},e),{},{alert:{show:!1,type:"",text:""}});default:return e}},V=r(8),W=r.n(V),K=r(9),Q=r(41),X=r.n(Q).a.create({baseURL:"https://cors-anywhere.herokuapp.com/http://77.120.241.80:8811/api/"}),Y=r(25),Z=W.a.mark(be),$=W.a.mark(le),ee=W.a.mark(de),te=W.a.mark(pe),re=W.a.mark(Oe),ne=W.a.mark(he),ce=W.a.mark(xe),ae=W.a.mark(me),se=W.a.mark(fe);function ie(){return X.get("/users").then((function(e){return e.data})).catch((function(e){throw e}))}function ue(e){return X.post("/users",Object(b.a)({},e)).then((function(e){return e.data})).catch((function(e){throw e}))}function oe(e,t){return X.put("/user/".concat(e),Object(b.a)({},t)).then((function(e){return e.data})).catch((function(e){throw e}))}function je(e){return X.delete("/user/".concat(e)).then((function(e){return e.data})).catch((function(e){throw e}))}function be(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(K.a)(ie);case 3:return e=t.sent,t.next=6,Object(K.b)({type:l,payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(K.b)({type:d,message:t.t0.message});case 12:case"end":return t.stop()}}),Z,null,[[0,8]])}function le(e){var t,r;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.user,n.prev=1,n.next=4,Object(K.a)(ue,t);case 4:return r=n.sent,n.next=7,Object(K.b)({type:p,payload:r});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(K.b)({type:x,payload:n.t0.message});case 13:case"end":return n.stop()}}),$,null,[[1,9]])}function de(e){var t,r,n;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,r=e.user,c.prev=1,c.next=4,Object(K.a)(oe,t,r);case 4:return n=c.sent,c.next=7,Object(K.b)({type:O,payload:n});case 7:c.next=13;break;case 9:return c.prev=9,c.t0=c.catch(1),c.next=13,Object(K.b)({type:x,payload:c.t0.message});case 13:case"end":return c.stop()}}),ee,null,[[1,9]])}function pe(e){var t;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(K.a)(je,t);case 4:return r.next=6,Object(K.b)({type:h,payload:t});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(K.b)({type:x,payload:r.t0.message});case 12:case"end":return r.stop()}}),te,null,[[1,8]])}function Oe(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.c)(m,be);case 2:case"end":return e.stop()}}),re)}function he(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.c)(f,le);case 2:case"end":return e.stop()}}),ne)}function xe(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.c)(v,de);case 2:case"end":return e.stop()}}),ce)}function me(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.c)(g,pe);case 2:case"end":return e.stop()}}),ae)}function fe(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)([Oe(),he(),me(),xe()]);case 2:case"end":return e.stop()}}),se)}var ve=Object(B.a)(),ge=[ve],ye=Object(q.createStore)(H,Object(M.composeWithDevTools)(q.applyMiddleware.apply(void 0,ge)));ve.run(fe);var we=ye;s.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(j.a,{store:we,children:Object(N.jsx)(I,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.f42e2f6a.chunk.js.map